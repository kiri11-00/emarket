<!DOCTYPE html>
<html>
  <head>
    <title>Каталог товаров</title>
  </head>
  <body>
    <h1>Каталог товаров</h1>
    <div id="catalog">
      <div class="item">
        <h2>Ноутбук Lenovo Ideapad 330S</h2>
        <p>Цена: 45 000 руб.</p>
        <button onclick="addToCart('laptop')">Поместить в корзину</button>
      </div>
      <div class="item">
        <h2>Смартфон Samsung Galaxy S21</h2>
        <p>Цена: 80 000 руб.</p>
        <button onclick="addToCart('phone')">Поместить в корзину</button>
      </div>
      <div class="item">
        <h2>Камера Sony Alpha A6000</h2>
        <p>Цена: 50 000 руб.</p>
        <button onclick="addToCart('camera')">Поместить в корзину</button>
      </div>
      <div class="item">
        <h2>Телевизор LG OLED CX</h2>
        <p>Цена: 120 000 руб.</p>
        <button onclick="addToCart('tv')">Поместить в корзину</button>
      </div>
    </div>
    <div id="cart">
      <h2>Корзина</h2>
      <ul id="cart-items">
      </ul>
    </div>

   
        <button><a href="form.html" >Вход</a></button> 
     


    <script> 
    let loggedIn = false; // флаг для проверки, вошел ли пользователь
let cart = []; // массив для хранения товаров в корзине

// функция добавления товара в корзину
function addToCart(item) {
  if (loggedIn) {
    cart.push(item);
    renderCart();
  } else {
    showLoginForm();
  }
}

// функция отображения формы входа
function showLoginForm() {
  document.getElementById("first-name").style.display = "block";
}

// функция входа в систему
function login() {
  const firstName = document.getElementById("first-name").value;
  const password = document.getElementById("password").value;

   // получаем список зарегистрированных пользователей из localStorage
   const registeredUsers = JSON.parse(localStorage.getItem("registeredUsers")) || [];

// проверяем наличие пользователя с введенным логином и паролем
const foundUser = registeredUsers.find(user => user.firstName === firstName && user.password === password);
if (foundUser) {
    loggedIn = true;
    renderCart();
    window.location.href = "page1.html";
  } else {
    alert("Неправильное имя пользователя или пароль.");
    window.location.href = "page1.html";
  }

}

// функция отображения товаров в корзине
function renderCart() {
  const cartItems = document.getElementById("cart-items");
  cartItems.innerHTML = ""; // очищаем список товаров
  cart.forEach((item) => {
    const li = document.createElement("li");
    li.innerText = item;
    cartItems.appendChild(li);
  });
}

    
    
    </script>
  </body>
</html>
